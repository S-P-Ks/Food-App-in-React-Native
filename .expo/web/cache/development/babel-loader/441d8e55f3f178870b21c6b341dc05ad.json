{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\deep patel\\\\myfood\\\\pages\\\\cart.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport db from \"../firebase\";\n\nfunction Cart(props) {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      users = _useState4[0],\n      setUsers = _useState4[1];\n\n  var product = props.product;\n\n  var _db$collection$onSnap = db.collection('food').onSnapshot(function (querySnapshot) {\n    var users = [];\n    querySnapshot.forEach(function (documentSnapshot) {\n      users.push(_objectSpread(_objectSpread({}, documentSnapshot.data()), {}, {\n        key: documentSnapshot.id\n      }));\n    });\n    setUsers(users);\n    setLoading(false);\n  }),\n      products = _db$collection$onSnap.products;\n\n  ;\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      cartItems = _useState6[0],\n      setCartItems = _useState6[1];\n\n  var onAdd = function onAdd(product) {\n    var exist = cartItems.find(function (x) {\n      return x.id === product.id;\n    });\n\n    if (exist) {\n      setCartItems(cartItems.map(function (x) {\n        return x.id === product.id ? _objectSpread(_objectSpread({}, exist), {}, {\n          qty: exist.qty + 1\n        }) : x;\n      }));\n    } else {\n      setCartItems([].concat(_toConsumableArray(cartItems), [_objectSpread(_objectSpread({}, product), {}, {\n        qty: 1\n      })]));\n    }\n  };\n\n  var onRemove = function onRemove(product) {\n    var exist = cartItems.find(function (x) {\n      return x.id === product.id;\n    });\n\n    if (exist.qty === 1) {\n      setCartItems(cartItems.filter(function (x) {\n        return x.id !== product.id;\n      }));\n    } else {\n      setCartItems(cartItems.map(function (x) {\n        return x.id === product.id ? _objectSpread(_objectSpread({}, exist), {}, {\n          qty: exist.qty - 1\n        }) : x;\n      }));\n    }\n  };\n\n  return React.createElement(Ionicons, {\n    style: {\n      marginRight: 10\n    },\n    onClick: function onClick() {\n      return onAdd(product);\n    },\n    name: \"ios-add-circle-outline\",\n    size: 32,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  });\n}\n\nexport default Cart;","map":{"version":3,"sources":["D:/deep patel/myfood/pages/cart.js"],"names":["React","useState","Ionicons","db","Cart","props","loading","setLoading","users","setUsers","product","collection","onSnapshot","querySnapshot","forEach","documentSnapshot","push","data","key","id","products","cartItems","setCartItems","onAdd","exist","find","x","map","qty","onRemove","filter","marginRight"],"mappings":"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","sourcesContent":["\r\nimport React,{ useState } from 'react';\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\nimport db from '../firebase';\r\nfunction Cart(props) {\r\n    const [loading, setLoading] = useState(true); // Set loading to true on component mount\r\n  const [users, setUsers] = useState([]); // Initial empty array of users\r\n  const { product } = props;\r\n  const { products } = db\r\n  .collection('food')\r\n  .onSnapshot(querySnapshot => {\r\n    const users = [];\r\n\r\n    querySnapshot.forEach(documentSnapshot => {\r\n      users.push({\r\n        ...documentSnapshot.data(),\r\n        key: documentSnapshot.id,\r\n      });\r\n    });\r\n\r\n    setUsers(users);\r\n    setLoading(false);\r\n  });\r\n;\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const onAdd = (product) => {\r\n    const exist = cartItems.find((x) => x.id === product.id);\r\n    if (exist) {\r\n      setCartItems(\r\n        cartItems.map((x) =>\r\n          x.id === product.id ? { ...exist, qty: exist.qty + 1 } : x\r\n        )\r\n      );\r\n    } else {\r\n      setCartItems([...cartItems, { ...product, qty: 1 }]);\r\n    }\r\n  };\r\n  const onRemove = (product) => {\r\n    const exist = cartItems.find((x) => x.id === product.id);\r\n    if (exist.qty === 1) {\r\n      setCartItems(cartItems.filter((x) => x.id !== product.id));\r\n    } else {\r\n      setCartItems(\r\n        cartItems.map((x) =>\r\n          x.id === product.id ? { ...exist, qty: exist.qty - 1 } : x\r\n        )\r\n      );\r\n    }\r\n  };\r\n  return (\r\n      <Ionicons\r\n       style={{marginRight: 10}}\r\n       onClick={() => onAdd(product)}\r\n      name='ios-add-circle-outline'\r\n      size={32}\r\n      />\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}