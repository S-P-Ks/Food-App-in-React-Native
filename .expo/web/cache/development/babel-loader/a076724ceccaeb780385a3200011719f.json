{"ast":null,"code":"","map":{"version":3,"sources":[],"names":[],"mappings":"","sourcesContent":["/*\r\nimport React,{ useState } from 'react';\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\nimport db from '../firebase';\r\nimport Basket from './basket';\r\nimport Users from './foodpage';\r\nfunction Cart(props) {\r\n  \r\n  const { products } = db\r\n  .collection('food')\r\n  .onSnapshot(querySnapshot => {\r\n    const users = [];\r\n\r\n    querySnapshot.forEach(documentSnapshot => {\r\n      users.push({\r\n        ...documentSnapshot.data(),\r\n        key: documentSnapshot.id,\r\n      });\r\n    });\r\n\r\n    setUsers(users);\r\n    setLoading(false);\r\n  });\r\n\r\nreturn () => subscriber();\r\n\r\n\r\n\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const onAdd = (product) => {\r\n    const exist = cartItems.find((x) => x.id === product.id);\r\n    if (exist) {\r\n      setCartItems(\r\n        cartItems.map((x) =>\r\n          x.id === product.id ? { ...exist, qty: exist.qty + 1 } : x\r\n        )\r\n      );\r\n    } else {\r\n      setCartItems([...cartItems, { ...product, qty: 1 }]);\r\n    }\r\n  };\r\n  const onRemove = (product) => {\r\n    const exist = cartItems.find((x) => x.id === product.id);\r\n    if (exist.qty === 1) {\r\n      setCartItems(cartItems.filter((x) => x.id !== product.id));\r\n    } else {\r\n      setCartItems(\r\n        cartItems.map((x) =>\r\n          x.id === product.id ? { ...exist, qty: exist.qty - 1 } : x\r\n        )\r\n      );\r\n    }\r\n  };\r\n  return (\r\n<Basket\r\n          cartItems={cartItems}\r\n          onAdd={onAdd}\r\n          onRemove={onRemove}\r\n        ></Basket>      \r\n  );\r\n}\r\n\r\nexport default Cart;\r\n*/"]},"metadata":{},"sourceType":"script"}